<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Articles on Blog by Stisa</title>
    <link>http://stisa.space/articles/</link>
    <description>Recent content in Articles on Blog by Stisa</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>eu</language>
    <lastBuildDate>Sat, 21 Nov 2015 11:57:47 +0100</lastBuildDate>
    <atom:link href="http://stisa.space/articles/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Luxe and Universal Windows Apps</title>
      <link>http://stisa.space/articles/luxeengine-universal-windows-app/</link>
      <pubDate>Sat, 21 Nov 2015 11:57:47 +0100</pubDate>
      
      <guid>http://stisa.space/articles/luxeengine-universal-windows-app/</guid>
      <description>

&lt;p&gt;I&amp;rsquo;m still playing with &lt;a href=&#34;http://luxeengine.com/&#34;&gt;luxe&lt;/a&gt;, and I heard that there is the possibility to turn html5 apps into &lt;a href=&#34;https://msdn.microsoft.com/en-US/library/windows/apps/dn726767.aspx&#34;&gt;Windows Universal Apps&lt;/a&gt;(also known as UWA) and I had to try it, even if it&amp;rsquo;s just (from my understanding, anyway) a wrapper around a webview.&lt;br /&gt;
The following steps assume that:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;you have already installed luxe&lt;/li&gt;
&lt;li&gt;you can build for the &lt;code&gt;web&lt;/code&gt; target&lt;/li&gt;
&lt;li&gt;you have Visual Studio installed (2013+ should be fine)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Starting from the base empty project, add this to your &lt;code&gt;Main.hx&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-clike&#34;&gt;    ...
    override function ready() {

        var s : Sprite = new Sprite({
            name : &amp;quot;s&amp;quot;,
            size: new Vec(48,48),
            pos: Luxe.screen.mid
        });

    } //ready
    ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now, follow those steps:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Build a luxe project for web: &lt;code&gt;flow build web&lt;/code&gt;  (or &lt;code&gt;flow run web&lt;/code&gt; if you want to make sure it works by launching it in your browser).&lt;/li&gt;
&lt;li&gt;Open Visual Studio (I used Visual Studio 2015)&lt;/li&gt;
&lt;li&gt;Create a new project in Visual Studio : &lt;code&gt;New Project -&amp;gt; JavaScript -&amp;gt; Blank App (Windows Universal)&lt;/code&gt;, I named it &lt;code&gt;TestSnowkit&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Now grab the &lt;code&gt;project.js&lt;/code&gt; generated by flow, and copy it into your Visual Studio Project folder&lt;/li&gt;
&lt;li&gt;Now in Visual Studio, in &lt;code&gt;Solution Explorer&lt;/code&gt; right click on &lt;code&gt;TestSnowkit&lt;/code&gt;-&amp;gt; &lt;code&gt;Add&lt;/code&gt;-&amp;gt; &lt;code&gt;Existing item&lt;/code&gt;  (or press  &lt;code&gt;Shift+Alt+A&lt;/code&gt;) and select &lt;code&gt;project.js&lt;/code&gt;&lt;br /&gt;
(If you need sound, do the same for &lt;code&gt;howler.js&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Update the &lt;code&gt;default.html&lt;/code&gt; to reference &lt;code&gt;project.js&lt;/code&gt;. The other references are not needed, but you can keep them if you want to use some UWA specific feature&lt;/li&gt;
&lt;li&gt;In Visual Studio, press &lt;code&gt;F5&lt;/code&gt; to test your project.&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;    ...
    &amp;lt;body class=&amp;quot;win-type-body&amp;quot;&amp;gt;
        &amp;lt;p&amp;gt;Content goes here&amp;lt;/p&amp;gt;
        &amp;lt;script src=&amp;quot;project.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;/body&amp;gt;
    ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;modified default.html&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s a picture of the project running:&lt;/p&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://stisa.space/media/luxe-uwa-output.jpg&#34; /&gt;
    
    
    &lt;figcaption&gt;
        &lt;h4&gt;Our white square running in a UWA&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;h3 id=&#34;problems:7dcf4a93aa7d2c54dbe71f8576bf5895&#34;&gt;Problems&lt;/h3&gt;

&lt;p&gt;If when you build your project in Visual Studio it only shows a black screen, try changing :&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-clike&#34;&gt;  snow : {
    config : {
      has_loop : true,
      config_path : &#39;config.json&#39; -&amp;gt; &#39;&#39;
    }
  },
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Inside your &lt;code&gt;framework.flow&lt;/code&gt; in your &lt;code&gt;snow&lt;/code&gt; lib folder.
If you leave it as &lt;code&gt;config.json&lt;/code&gt;, snow tries loading it with a &lt;code&gt;XMLHttpRequest&lt;/code&gt;, the problem is javascript is not allowed to request local files.
Passing in an empty string instead bypasses this.&lt;/p&gt;

&lt;p&gt;Thanks for reading this, and if you find errors or if I got something wrong, please &lt;a href=&#34;https://github.com/stisa/stisa.github.io&#34;&gt;open an issue on github&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Luxe/Flow Hooks Example</title>
      <link>http://stisa.space/articles/luxe-hooks/</link>
      <pubDate>Fri, 02 Oct 2015 22:36:29 +0200</pubDate>
      
      <guid>http://stisa.space/articles/luxe-hooks/</guid>
      <description>

&lt;p&gt;I&amp;rsquo;m playing around with &lt;a href=&#34;http://luxeengine.com/&#34;&gt;luxe&lt;/a&gt;, building a simple depth first search-based maze generator, which I plan on turning into a full game ( btw you can try it &lt;a href=&#34;http://stisa.space/mazes/&#34;&gt;here&lt;/a&gt; ).&lt;br /&gt;
While iterating, I had to copy-paste the content of &lt;code&gt;bin/web/&lt;/code&gt; to the folder linked with the project &lt;a href=&#34;https://github.com/stisa/mazes&#34;&gt;git repo&lt;/a&gt;, but it got old fast, and I &lt;strong&gt;had&lt;/strong&gt; to find a faster way.&lt;br /&gt;
At first, I tried using the  &lt;code&gt;--output-path &amp;lt;path&amp;gt;&lt;/code&gt; flag in &lt;code&gt;flow&lt;/code&gt;, that overrides the flow tree &lt;code&gt;project.app.output&lt;/code&gt; path. The problem with this method is that flow generates two folders, &lt;code&gt;web&lt;/code&gt; and &lt;code&gt;web.build&lt;/code&gt;, inside your selected path, and I didn&amp;rsquo;t like it very much.&lt;br /&gt;
That&amp;rsquo;s when I found out about hooks, digging trough &lt;code&gt;flow&lt;/code&gt; source code.&lt;/p&gt;

&lt;h3 id=&#34;hooks:9ae4c02ba277f90b870406f3e1b45dc8&#34;&gt;Hooks&lt;/h3&gt;

&lt;p&gt;flow has the ability of launching node.js scripts before ( &lt;strong&gt;pre&lt;/strong&gt; ) and after ( &lt;strong&gt;post&lt;/strong&gt; ) building and running your project.&lt;br /&gt;
This gave me the option of using a simple script to copy the output of the build to another folder, without having to copy-paste manually every time.&lt;/p&gt;

&lt;p&gt;To use hooks, you have to add them to your &lt;code&gt;project.flow&lt;/code&gt; :&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-clike&#34;&gt;  build : {
    dependencies : {
      //your dependencies
    },
    post : {  
      priority : 1,
      name : &#39;copy-to-gh-pages&#39;,
      desc : &#39;copy bin/web to gh-pages&#39;,
      script : &#39;./hooks/post.js&#39;,
    }
  }
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;post&lt;/code&gt; is when to run the hook&lt;/li&gt;
&lt;li&gt;&lt;code&gt;name&lt;/code&gt; is the name of your hook&lt;/li&gt;
&lt;li&gt;&lt;code&gt;desv&lt;/code&gt; is the description for your hook&lt;/li&gt;
&lt;li&gt;&lt;code&gt;script&lt;/code&gt; is the path to your script, relative to your project folder root&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Then you have to write your script, in my case &lt;code&gt;post.js&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;  var fs = require(&#39;fs-extra&#39;);
  var path = require(&#39;path&#39;);

  exports.hook = function(flow, done){
    // generic json reading function
    function read_json (file_path) {
        var temp;
        //console.log(path.resolve(file_path))
        temp = fs.readFileSync(path.resolve(file_path));
        return JSON.parse(temp);
    };

    //read our config file
    var config_file = &amp;quot;./hooks/config.json&amp;quot;;

    var config = read_json(config_file);
    var dirs = config.dirs;

    console.log(&amp;quot;copy-to-gh-pages - Source dir: &amp;quot;+ dirs.bin+&amp;quot;, Target dir: &amp;quot;+ dirs.gh_pages);
    fs.copy(dirs.bin,dirs.gh_pages, function copy_site(err){
      if (err) throw err;
      console.log(&amp;quot;copy-to-gh-pages - Project copied&amp;quot;);
      console.log(&amp;quot;copy-to-gh-pages - Copying git_files...&amp;quot;);
      fs.readdir(dirs.git_files,function copy_git_files(err,files){
        if (err) throw err;
        for (var i = 0; i&amp;lt;files.length;i++) {
          var file = files[i];
          console.log(&amp;quot;copy-to-gh-pages -  Copied &amp;quot;+file);
          fs.copy(path.join(dirs.git_files,file),path.join(dirs.gh_pages,file), function copy_file(err){
            if (err) throw err;
          })
        } // for
        done();

      })  // readdir
    })   // copy
  }

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The important bits here are :&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;  exports.hook = function(flow, done){
    // do something here...

    // when you&#39;re finished, just say it:
    done();

  }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The &lt;code&gt;exports.hook&lt;/code&gt; part allows &lt;code&gt;flow&lt;/code&gt; to call our hook, passing it a &lt;code&gt;flow&lt;/code&gt; object and the &lt;code&gt;done&lt;/code&gt; function.&lt;br /&gt;
Calling &lt;code&gt;done()&lt;/code&gt; signals the build tool that our script is finished executing and that it can go on.&lt;/p&gt;

&lt;p&gt;And that&amp;rsquo;s it, just &lt;code&gt;flow run &amp;lt;target&amp;gt;&lt;/code&gt; your project and watch as your hook does its thing.&lt;/p&gt;

&lt;p&gt;Thanks for reading this, and if you find errors or if I got something wrong, please &lt;a href=&#34;https://github.com/stisa/stisa.github.io&#34;&gt;open an issue on github&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Starting with mint</title>
      <link>http://stisa.space/articles/starting-with-mint/</link>
      <pubDate>Sun, 20 Sep 2015 21:13:59 +0200</pubDate>
      
      <guid>http://stisa.space/articles/starting-with-mint/</guid>
      <description>&lt;p&gt;Today I started experimenting with &lt;a href=&#34;https://github.com/snowkit/mint&#34;&gt;mint&lt;/a&gt;, a library written in the
Haxe programming language.&lt;br /&gt;
It is a fairly new library, with relatively little documentation, but it&amp;rsquo;s also quite straightforward.&lt;br /&gt;
I pieced together a barebone example from the mint repo , with a window showing a label.&lt;br /&gt;
Here it is: &lt;a href=&#34;https://github.com/stisa/mint-example&#34;&gt;github&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://i.imgur.com/ikJbewf.png&#34; alt=&#34;Example&#34; /&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Kivy Layout</title>
      <link>http://stisa.space/articles/kivy-layout/</link>
      <pubDate>Tue, 11 Aug 2015 18:49:26 +0200</pubDate>
      
      <guid>http://stisa.space/articles/kivy-layout/</guid>
      <description>&lt;p&gt;So I&amp;rsquo;ve started messing around with &lt;a href=&#34;http://kivy.org/&#34;&gt;Kivy&lt;/a&gt;, and I was stuck trying to understand just &lt;em&gt;how&lt;/em&gt; the layout thing works when using .kv code.
And I think I finally understood what I was doing wrong. I was basically setting the layout of the small square that is the default widget size in Kivy so, knowing that, I tried creating the base widget as a layout and it &lt;em&gt;worked&lt;/em&gt; :D&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;Python code:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;	from kivy.app import App
	from kivy.uix.gridlayout import GridLayout

	class TestApp(App):
		def build(self):
			root = Root()
			return root

	# define the main widget as a GridLayout or any other layout of your choice		
	class Root(GridLayout):
	    pass

	if __name__ == &#39;__main__&#39;:
		TestApp().run()  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Kv code:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;	#:kivy 1.8.0
	&amp;lt;Root&amp;gt;:
	# define layout variables
		cols: 2

		Label:
			font_size: 70
			text: &amp;quot;Test&amp;quot;
		Label:
			font_size: 70
			text: &amp;quot;Test&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Result:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://i.imgur.com/LCQdm11.jpg?1&#34; alt=&#34;Imgur&#34; /&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Unity3D &amp; accelerometer</title>
      <link>http://stisa.space/articles/unity-accelerometer/</link>
      <pubDate>Tue, 08 Jul 2014 18:49:26 +0200</pubDate>
      
      <guid>http://stisa.space/articles/unity-accelerometer/</guid>
      <description>&lt;p&gt;You know that feeling when you spend ours thinking about an issue, and you finally understand something &lt;strong&gt;very&lt;/strong&gt; simple was missing the whole time? Well, I know that feeling very well.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-clike&#34;&gt;  accel = Mathf.Round(Mathf.Sqrt(
    (Input.acceleration.x *Input.acceleration.x) +  
    (Input.acceleration.z * Input.acceleration.z) +  
    (Input.acceleration.y*Input.acceleration.y)
  ));  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Outputted 0. Zero. Always, even when shaking the phone. And then I realized &lt;code&gt;Input.acceleration&lt;/code&gt; gives a value between 0 and 1, and then rounding down that number always ended up to zero.&lt;/p&gt;

&lt;p&gt;Next time, I might read documentation a bit more carefully, although I didn&amp;rsquo;t find it mentioned on the Unity docs.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>